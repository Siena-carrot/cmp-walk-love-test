<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>コックロフト・ウォールトン型高電圧発生装置｜大阪大学CMP-walk愛好会</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <div class="object-container">
    <!-- 問題発生時の情報 -->
    <div id="errorInfo" style="display: none;">
      <p class="status error">このページには問題があります</p>
      <h1>コックロフト・ウォールトン型高電圧発生装置</h1>
      <p id="errorDescription" class="description">菊池正士氏が設置した、<span class="garbled">$%</span>万ボルトの高電圧を発生させることができる装置。<span class="garbled">繧ゅ§縺ｰ縺</span>の性質の研究に用いられた。看板の説明の3文が、英語の長文読解の正誤問題みたいな肌触りがする気がするのは私だけでしょうか。</p>
      <div class="map-section">
  <button class="btn-map" onclick="showMap(this)">設置場所</button>
        <div id="mapImage" style="display: none;">
          <img src="../../assets/maps/obje9-map.jpg" alt="obje9-map" data-filename="obje9-map.jpg">
        </div>
        <p class="map-description" style="display:none">柴原口周辺</p>
      </div>
      <div id="lockMessage" style="display: none;"></div>
      <div class="puzzle-box">
        <div class="repair-section">
          <p>説明文が文字化けしています。以下の入力欄に正しい情報を入力して修復してください。</p>
          <input id="repairYear" type="text" placeholder="１つ目">
          <input id="repairDept" type="text" placeholder="２つ目">
          <button id="repairBtn" onclick="attemptRepair()">修復</button>
          <div id="repairMessage" style="color:green;margin-top:8px;display:none"></div>
        </div>
      </div>
    </div>

    <!-- 正常時の情報 -->
    <div id="normalInfo" style="display: none;">
      <h1>コックロフト・ウォールトン型高電圧発生装置</h1>
      <p class="description">菊池正士氏が設置した、60万ボルトの高電圧を発生させることができる装置。原子核の性質の研究に用いられた。看板の説明の3文が、英語の長文読解の正誤問題みたいな肌触りがする気がするのは私だけでしょうか。</p>
      <div class="map-section">
  <button class="btn-map" onclick="showMap(this)">設置場所</button>
        <div id="mapImage" style="display: none;">
          <img src="../../assets/maps/obje9-map.jpg" alt="obje9-map">
        </div>
        <p class="map-description" style="display:none">柴原口周辺</p>
      </div>
    </div>

    <div id="normalPhotos" class="photos" style="display:none">
  <img src="../../assets/images/obje9-1.jpg" alt="obje9-1">
  <img src="../../assets/images/obje9-2.jpg" alt="obje9-2">
    </div>

    <div id="errorPhotos" class="photos" style="display:none">
  <img src="../../assets/images/obje9-1.jpg" alt="obje9-1">
  <img src="../../assets/images/404-6.jpg" alt="404-6">
    </div>

    <div class="back-button">
      <button class="btn-back" onclick="location.href='../index.html'">もどる</button>
    </div>
  </div>

  <script src="script.js"></script>

  <style>
    .map-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:2000;padding:20px}
    .map-modal-inner{background:white;padding:20px;border-radius:8px;width:300px;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.3);max-height:80vh;overflow:auto}
    .map-modal-inner img{width:100%;height:auto;display:block;margin-top:10px;border-radius:6px}
    .map-modal-close{display:inline-block;margin-left:auto;background:#ccc;border:none;padding:6px 10px;border-radius:4px;cursor:pointer}
    .map-modal-header{display:flex;align-items:center;gap:12px}
  </style>

  <div id="mapModal" class="map-modal" aria-hidden="true">
    <div class="map-modal-inner" role="dialog" aria-modal="true">
      <div class="map-modal-header">
        <strong>設置場所</strong>
        <button class="map-modal-close" onclick="closeMap()">閉じる</button>
      </div>
      <p id="mapModalDescription">(説明)</p>
      <img id="mapModalImg" src="" alt="設置場所の地図">
    </div>
  </div>
</body>
</html>